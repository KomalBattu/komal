//EC2-> putty,cloudshell,rdp

1.create a instance->ubuntu->t2.micro->Go to EC2 → Security Groups → Inbound rules
Ensure this rule exists:
Type: SSH
Port: 22
Source: My IP

2.convert .pem to .ppk
puttygen->load->in files keep option as all files->.pem->save private key->yes->filename.ppk

3.open putty
hostname->
ubuntu@publicipv4 address(copy from instance)->
click connection->
SSh->
auth->
credentials->
browse->
select .ppk ->
open->
connected->
type whoami-.ec2 is connected

4.if u get any network error open created instance->
security->
security group link->
inbound rules->
edit->ssh->
source->
ipv4 and and do the putty process as step 3

5.using created instance->
in the top right click cloudshell icon->
select EC2 instance->
connect->
copy ssh->
paste in cloudshell->
first it gets errorthen do->actions in cloudshell->
upload file->select.pem file->
again paste ssh command->
if got it type whoami->
if gets error ->
ls->chmod 400 filename->
paste again ssh->
yes->whoami->
ec2 is connected

6.create again new instance->
Select an Amazon Machine Image (AMI):Choose a Windows Server AMI (e.g., Windows Server 2019 or 2022)->
t2.micro->key pair->
network settings->security group->
check RDP port 3389 and source as My IP->launch instance

7.select instance->copy public DNS or public ipv4->
click connect->RDP Client->Click Get Password->
Upload your Key Pair (.pem) file->Click Decrypt Password->
Copy the Administrator password shown 

8.in windows->search Remote desktop connection->
In the Computer field, enter the Public DNS->
click connect->if the account is another click on more choices->use different account->
Username: Administrator,passowrd: paste decrypted  password->
click ok.[if u get any error go to selected instances->
security-.security group link->edit inbound rules->
add rule->custom(RDP)->custom type(anywhere Ipv4)-.save and again do the process]

--------------------------------------------------------------------------------------------
//EFS
1.create 2 efs instances 

2.launch instance->
name as efs1->amazon linux->t2.micro->
key pair->create security group->network->
subnet-1a(us-east-1a)->description(NFS-SG)->
add security group->type(NFS)->source type(anywhere)->click launch instance

3.launch instance->name as efs2->amazon linux->t2.micro->key pair->selct security group->select the selected one->click launch instance

4.search EFS->create file system->name:optional,vpc:default,enable region-> do after file created or while creating select file created->network settings->remove the subnets or vpc and keep your nfs->save

5.open 2 powershell->in one powershell paste efs1 ssh->sudo su->mkdir fs->yum install -y amazon-efs-utils->and do same for efs2 powershell

6.efs->select target efs->actions->attach->mount via dns->copy command->and paste in both powershell

7.in efs1->cd directoryname->touch file.txt->echo "hello">file.txt->ls
and in efs2 type ls you should get 


---------------------------------------------------------------------------------------------------------------------------------------------

//EBS

1.create a instance

2.Go to EC2 →Volumes->Create volume->Volume type:gp3,Size: 20 GB (example),Availability Zone: Same AZ as the EC2 instance->Click Create volume

3.Select the newly created EBS volume->Click Actions → Attach volume->Choose:Instance: Your Linux EC2 instance->Device name:/dev/sdf->Click Attach

4. copy ssh->lsblk->you will see(/dev/xvdf)->lsblk -fs->sudo fdisk /dev/xvdf-> press m,enter,entern,w->lsblk -fs->now you should see /dev/xvdf1->sudo mkfs.ext4 /dev/xvdf1->lsblk -fs

5.sudo mkdir /mnt/komal->sudo mount /dev/xvdf1 /mnt/komal->df -h

6.sudo blkid /dev/xvdf1->copy the UUID=""->sudo nano /etc/fstab->at last line paste UUID="" /mnt/archana   ext4   defaults,nofail   0   0->sudo mount -a->df -h->cd /mnt/komal->sudo touch /mnt/komal/f1->ls

7.if needed reboot or dont do it 

8.EC2 → Volumes → Select volume->Actions → Detach volume->Attach to Another EC2 Instance (Same AZ)->Attach the volume to a new instance->Log in to the new instance->Create mount directory:mkdir /mnt/archana->Mount the existing partition:

9.snaphot->ec2->volumes->Select the EBS volume you want to create a snapshot of->e. Click on the "Actions" dropdown menu above the volume list and select "Create Snapshot."->f. Provide a name and description for the snapshot.->g. Click on the "Create Snapshot" button to initiate the snapshot creation process.

10.after created the snapshot go to snapshot in ec2->b. Select the snapshot you just created.->Click on the "Actions" dropdown menu above the snapshot list and select "Copy Snapshot."->d. Choose the destination region where you want to copy the snapshot.->e. Click on the "Copy Snapshot" button to initiate the copy process. This may take some time depending on the size of the snapshot and the network speed.

11.monitor the snapshot status as pending or completed

12.Use the region selector in the top-right corner of the AWS Management Console to switch to the destination region where you copied the snapshot->In the EC2 Dashboard of the destination region, go to the "Snapshots" section.->b. Find the snapshot you copied from the source region.->c. Click on the snapshot, then click on the "Actions" dropdown menu and select "Create Volume."->d. Configure the volume settings, such as volume type, size, and availability zone.->e. Click on the "Create Volume" button to create the volume from the snapshot.

13.. Once the volume is created, navigate to the "Volumes" section in the EC2 Dashboard->Find the newly created volume and select it.-> Click on the "Actions" dropdown menu and select "Attach Volume."->e EC2 instance to which you want to attach the volume and specify the device name.-> Click on the "Attach" button to attach the volume to the instance

---------------------------------------------------------------------------------------------------------------------------------------------

//VPC

1.open vpc->your vpc->vpc only->name:custom vpc,ipv4 CIDR:10.0.0.0/16

2.subnets->create->public subnet->select vpc->availability zone-a1->subnet cidr:10.0.2.0/24->and for private in place of subnet cidr:10.0.1.0/24->in public subnet->actions->edit subnet settings->enable

3.internet gateway->create->name:custom->igw->attach to vpc

4.route table->create->name:public->select vpc->add route->0.0.0.0,target:Internet Gateway->subnet associations->edit->select public->save and for private->name:private->select vpc->create->subnet associations->edit->click private->save

5.ec2->launch instance->name:public->network settings->edit->select vpc->public subnet->inbound rules->1.http , anywhere - 2.https,anywhere->another for private but in network dont add anything

6.copy the public ssh and paste after that type ping google.com


------------------------------------------------------------------------------------------

//vpc through nat gateway

1.vpc->elastic ips->create->nat gateway->create-> Click Create NAT Gateway->Name → My-NAT->Subnet → Select Public Subnet->Connectivity type → Public->Elastic IP → Select allocated EIP->Click Create

2.Route table->private route table->routes->edit->0.0.0.0,nat gateway

3.in cmd->scp -i public-ins2.pem privet-ins2.pem ubuntu@3.91.60.117:/home/ubuntu/->copy the public ssh ->inside chmod 400 cmnd->copy private ssh->chmod 400.pemfilename->ping google.com





